FROM ruby:2.7.1-slim

# Indicar el puerto accesible
EXPOSE 9080

# COPY /home/rrjorge8/PraCreativa2/bloque3/bookinfo/src/details/details.rb /opt/microservices/details.rb
# COPY src/details/details.rb /opt/microservices
COPY ./details.rb /opt/microservices/details.rb


WORKDIR /opt/microservices/

# Especificar variables de entorno
ENV SERVICE_VERSION=v1
ENV ENABLE_EXTERNAL_BOOK_SERVICE=true

# Lanzar app en el puerto 9080
CMD ["ruby", "details.rb", "9080"]

# Indicar que se ha instalado correctamente
RUN echo "La imagen Docker de DETAILS se ha instalado correctamente"


